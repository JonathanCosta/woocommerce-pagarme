!function(r){"use strict";r(function(){r("body").on("click","#place_order",function(){if(!r("#payment_method_pagarme-credit-card-subscription").is(":checked"))return!0;PagarMe.encryption_key=wcPagarmeParams.encryptionKey;var e,a,c=r("form.checkout, form#order_review"),o=r("#place_order"),i=new PagarMe.creditCard,s=r("#pagarme-credit-cart-subscription-form",c),t="";return c.addClass("processing"),i.cardHolderName=r("#pagarme-card-subscription-holder-name",c).val(),i.cardExpirationMonth=r("#pagarme-card-subscription-expiry",c).val().replace(/[^\d]/g,"").substr(0,2),i.cardExpirationYear=r("#pagarme-card-subscription-expiry",c).val().replace(/[^\d]/g,"").substr(2),i.cardNumber=r("#pagarme-card-subscription-number",c).val().replace(/[^\d]/g,""),i.cardCVV=r("#pagarme-card-subscription-cvc",c).val(),e=r("#pagarme-credit-card-subscription-installments",c).val(),a=i.fieldErrors(),r.isEmptyObject(a)&&"0"!==e?(c.removeClass("processing"),r(".woocommerce-error",s).remove(),i.generateHash(function(e){r("input[name=pagarme_card_hash]",c).remove(),c.append(r('<input name="pagarme_card_hash" type="hidden" />').val(e)),o.attr("disabled","disabled"),setTimeout(function(){0===r(".checkout.woocommerce-checkout.processing").length&&o.removeAttr("disabled")},5e3),c.submit()})):(c.removeClass("processing"),r(".woocommerce-error",s).remove(),t+="<ul>",r.each(a,function(r,e){t+="<li>"+e+"</li>"}),"0"===e&&(t+="<li>Número de Parcelas Inválido</li>"),t+="</ul>",s.prepend('<div class="woocommerce-error">'+t+"</div>")),!1})})}(jQuery);