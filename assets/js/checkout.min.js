!function(a){"use strict";a(function(){function b(a){return 0<a.length}function c(a){return a.replace(/[^\d]/g,"")}function d(d){var e,f={};return f.customerName=a.trim(a("#billing_first_name",d).val()+" "+a("#billing_last_name",d).val()),f.customerEmail=a("#billing_email",d).val(),b(a("#billing_address_1"))&&(f.customerAddressStreet=a("#billing_address_1").val(),f.customerAddressComplementary=a("#billing_address_2").val(),f.customerAddressZipcode=c(a("#billing_postcode").val()),b(a("#billing_number"))&&(f.customerAddressStreetNumber=a("#billing_number").val()),b(a("#billing_neighborhood"))&&(f.customerAddressNeighborhood=a("#billing_neighborhood").val())),b(a("#billing_phone"))&&(e=c(a("#billing_phone").val()),f.customerPhoneDdd=e.substr(0,2),f.customerPhoneNumber=e.substr(2)),b(a("#billing_persontype"))?"1"===a("#billing_persontype").val()?f.customerDocumentNumber=c(a("#billing_cpf").val()):(f.customerName=a("#billing_company").val(),f.customerDocumentNumber=c(a("#billing_cnpj").val())):b(a("#billing_cpf"))?f.customerDocumentNumber=c(a("#billing_cpf").val()):b(a("#billing_cnpj"))&&(f.customerName=a("#billing_company").val(),f.customerDocumentNumber=c(a("#billing_cnpj").val())),f}a("body").on("click","#place_order",function(){if(!a("#payment_method_pagarme-credit-card").is(":checked"))return!0;var b,c,e,f=a("form.checkout, form#order_review"),g=a("#pagarme-checkout-params",f);return b=new PagarMeCheckout.Checkout({encryption_key:wcPagarmeParams.encryptionKey,success:function(b){a("input[name=pagarme_checkout_token]",f).remove(),f.append(a('<input name="pagarme_checkout_token" type="hidden" />').val(b.token)),f.submit()}}),c=wcPagarmeParams.checkoutPayPage?wcPagarmeParams.customerFields:d(f),e=a.extend({},{paymentMethods:"credit_card",customerData:!1,amount:g.data("total"),createToken:!0,interestRate:wcPagarmeParams.interestRate,maxInstallments:g.data("max_installment"),freeInstallments:wcPagarmeParams.freeInstallments,postbackUrl:wcPagarmeParams.postbackUrl,uiColor:wcPagarmeParams.uiColor},c),b.open(e),!1})})}(jQuery);