!function(e){"use strict";e(function(){e("body").on("click","#place_order",function(){if(!e("#payment_method_pagarme-credit-card").is(":checked"))return!0;PagarMe.encryption_key=wcPagarmeParams.encryptionKey;var r,a,c=e("form.checkout, form#order_review"),o=e("#place_order"),d=new PagarMe.creditCard,i=e("#pagarme-credit-cart-form",c),t="";return c.addClass("processing"),d.cardHolderName=e("#pagarme-card-holder-name",c).val(),d.cardExpirationMonth=e("#pagarme-card-expiry",c).val().replace(/[^\d]/g,"").substr(0,2),d.cardExpirationYear=e("#pagarme-card-expiry",c).val().replace(/[^\d]/g,"").substr(2),d.cardNumber=e("#pagarme-card-number",c).val().replace(/[^\d]/g,""),d.cardCVV=e("#pagarme-card-cvc",c).val(),r=e("#pagarme-credit-card-installments",c).val(),a=d.fieldErrors(),e.isEmptyObject(a)&&"0"!==r?(c.removeClass("processing"),e(".woocommerce-error",i).remove(),d.generateHash(function(r){e("input[name=pagarme_card_hash]",c).remove(),c.append(e('<input name="pagarme_card_hash" type="hidden" />').val(r)),o.attr("disabled","disabled"),setTimeout(function(){0===e(".checkout.woocommerce-checkout.processing").length&&o.removeAttr("disabled")},5e3),c.submit()})):(c.removeClass("processing"),e(".woocommerce-error",i).remove(),t+="<ul>",e.each(a,function(e,r){t+="<li>"+r+"</li>"}),"0"===r&&(t+="<li>Número de Parcelas Inválido</li>"),t+="</ul>",i.prepend('<div class="woocommerce-error">'+t+"</div>")),!1})})}(jQuery);